[gd_scene load_steps=8 format=3 uid="uid://bpehh4ldxvsx7"]

[ext_resource type="Script" uid="uid://56u7gn7jeym0" path="res://Character/Scripts/personnage.gd" id="1_7o5ti"]
[ext_resource type="PackedScene" uid="uid://dwn7kfjtmo1x4" path="res://Character/Scenes/mendri_mesh.tscn" id="3_iot2n"]
[ext_resource type="Script" uid="uid://d1473p514iqas" path="res://Character/custom scripts/weapon_class.gd" id="3_obb3y"]
[ext_resource type="ArrayMesh" uid="uid://sb18qf46874u" path="res://Character/Mendri parts/cape 2/mendri cape 2.obj" id="4_iot2n"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_iot2n"]
radius = 0.27392578
height = 1.0222168

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_ukt3s"]
radius = 0.38232422
height = 1.9772949

[sub_resource type="SphereShape3D" id="SphereShape3D_o1rk3"]

[node name="Mendri base character" type="CharacterBody3D"]
script = ExtResource("1_7o5ti")

[node name="Collision attachement" type="BoneAttachment3D" parent="."]
transform = Transform3D(1.0235999, -8.665215e-18, -6.153416e-17, 6.162314e-17, 0.2721635, 0.9867542, 8.00793e-18, -0.9867542, 0.2721635, 0.04292155, 1.2038549, 0.005257398)
bone_name = "chest"
bone_idx = 14
use_external_skeleton = true
external_skeleton = NodePath("../Mendri Mesh/rig/Skeleton3D")

[node name="StaticBody3D" type="StaticBody3D" parent="Collision attachement"]
transform = Transform3D(1.0057822, 0, 1.6130022e-23, -8.271806e-25, 1.0057824, 5.9604645e-08, 2.2747467e-24, -5.9604645e-08, 1.0057824, 0, -0.08444664, 0.037406206)
collision_layer = 16
collision_mask = 16

[node name="CollisionShape3D" type="CollisionShape3D" parent="Collision attachement/StaticBody3D"]
transform = Transform3D(1.0421238, 5.43769e-17, -6.555485e-17, -7.0366144e-17, 0.09774698, -1.0375319, -4.7988658e-17, 1.0375304, 0.09774655, 0, -0.015388817, -0.19522089)
shape = SubResource("CapsuleShape3D_iot2n")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0739398, 1.0113525, 0)
shape = SubResource("CapsuleShape3D_ukt3s")

[node name="Camera_pivot" type="Node3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 0.938746, -0.34461, 0, 0.34461, 0.938746, 0, 1.548, 0)

[node name="SpringArm3D" type="SpringArm3D" parent="Camera_pivot"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, -0.00771475, -0.00365937, -0.00996846)
shape = SubResource("SphereShape3D_o1rk3")
spring_length = 3.0

[node name="Camera3D" type="Camera3D" parent="Camera_pivot/SpringArm3D"]
unique_name_in_owner = true

[node name="Mendri Mesh" parent="." instance=ExtResource("3_iot2n")]

[node name="Skeleton3D" parent="Mendri Mesh/rig" index="0"]
bones/1/scale = Vector3(1.0165658, 1.0165651, 1.0165653)
bones/3/scale = Vector3(1.0008743, 1.0034924, 1.0008749)
bones/4/scale = Vector3(1.006031, 1.0034821, 1.0059929)
bones/5/scale = Vector3(0.9931251, 0.99312484, 0.9931253)
bones/7/position = Vector3(0.36237025, 0.02726167, 1.2595869)
bones/7/rotation = Quaternion(0.31749374, 0.7292949, 0.16995893, 0.58175665)
bones/7/scale = Vector3(1.0000001, 23.459213, 1)
bones/8/position = Vector3(-0.27424437, 0.030969493, 1.2599406)
bones/8/rotation = Quaternion(-0.31964174, 0.7300039, 0.16947155, -0.57983017)
bones/8/scale = Vector3(1, 23.37095, 1)
bones/9/position = Vector3(0.22282046, 0.061019886, 0.52340037)
bones/9/rotation = Quaternion(0.9962378, 0.021176001, -0.076161936, -0.035514858)
bones/9/scale = Vector3(0.99999994, 20.449816, 1)
bones/10/position = Vector3(-0.16708617, -0.09098805, 0.5515889)
bones/10/rotation = Quaternion(0.99625355, -0.006073074, 0.05951851, -0.062447015)
bones/10/scale = Vector3(1, 17.120136, 1)
bones/12/scale = Vector3(1.016573, 1.0165732, 1.0165731)
bones/14/scale = Vector3(1.0069124, 1.0069124, 1.0069124)
bones/21/rotation = Quaternion(0.9897107, 0.08084473, -0.05390292, 0.1050309)
bones/21/scale = Vector3(0.9747679, 0.9747677, 0.97476786)
bones/22/rotation = Quaternion(0.19955215, -1.1084215e-09, 5.2179132e-08, 0.9798872)
bones/23/rotation = Quaternion(-0.6796421, 0.01163927, 0.09565061, 0.7271878)
bones/23/scale = Vector3(1.0090722, 1.0090723, 1.0090715)
bones/35/rotation = Quaternion(0.9502008, -0.11388016, 0.0488638, 0.28594095)
bones/35/scale = Vector3(0.9712252, 0.97122526, 0.97122467)
bones/36/rotation = Quaternion(0.26432452, -2.0756573e-08, -6.5165004e-08, 0.9644339)
bones/37/rotation = Quaternion(-0.5847738, -0.0007402864, -0.123099655, 0.80180156)
bones/49/scale = Vector3(0.983705, 0.983705, 0.9837047)
bones/50/scale = Vector3(0.983705, 0.9837052, 0.983705)
bones/58/rotation = Quaternion(-0.103090614, 0.004820573, 0.0004996736, 0.9946602)
bones/59/rotation = Quaternion(0.19955218, -5.2440197e-10, 5.1948206e-08, 0.97988725)
bones/60/rotation = Quaternion(0.989021, 0.07962445, -0.06534631, 0.105959)
bones/60/scale = Vector3(0.9837051, 0.983705, 0.9837053)
bones/62/rotation = Quaternion(0.98902106, 0.079624526, -0.06534634, 0.10595894)
bones/62/scale = Vector3(0.98820424, 0.97476786, 0.9882045)
bones/64/rotation = Quaternion(0.19955954, 0.00571762, -0.0011529644, 0.97986835)
bones/66/rotation = Quaternion(-0.6783278, 0.023611212, 0.10692856, 0.7265537)
bones/68/scale = Vector3(0.983705, 0.983705, 0.9837047)
bones/69/scale = Vector3(0.983705, 0.9837052, 0.983705)
bones/77/rotation = Quaternion(-0.13634688, -0.0048011313, -0.0006607541, 0.9906494)
bones/78/rotation = Quaternion(0.26432455, -2.2548365e-08, -6.372676e-08, 0.9644338)
bones/79/rotation = Quaternion(0.9491244, -0.10854045, 0.06651607, 0.2880233)
bones/79/scale = Vector3(0.98370504, 0.98370546, 0.9837048)
bones/81/rotation = Quaternion(0.94913435, -0.10855298, 0.06651863, 0.28798532)
bones/81/scale = Vector3(0.990005, 0.9712254, 0.99000484)
bones/83/rotation = Quaternion(0.26432842, -0.009117756, 0.002472589, 0.9643865)
bones/85/rotation = Quaternion(-0.5821502, -0.018932436, -0.13672414, 0.80127984)
bones/90/scale = Vector3(1.0034785, 1.0034784, 1.0034785)
bones/92/scale = Vector3(0.9982579, 0.99825794, 0.99825794)
bones/95/scale = Vector3(1.0034786, 1.0034785, 1.0034784)
bones/97/scale = Vector3(0.993125, 0.99312496, 0.99312544)
bones/102/scale = Vector3(0.99312496, 0.9931254, 0.9931253)
bones/111/rotation = Quaternion(-0.20498441, 0.70985895, -0.52967715, 0.4165619)
bones/111/scale = Vector3(0.9561043, 0.9561046, 0.9561046)
bones/112/rotation = Quaternion(0.21418005, 5.8759684e-05, -1.27685735e-05, 0.9767942)
bones/113/rotation = Quaternion(0.027604088, -0.13636254, -0.005410809, 0.99025965)
bones/115/rotation = Quaternion(0.39904776, 0.00016949391, -7.334314e-05, 0.9169302)
bones/116/rotation = Quaternion(0.39905018, -4.847719e-05, 2.3684624e-05, 0.9169291)
bones/121/rotation = Quaternion(0.39903533, 0.00070101785, 0.0013476104, 0.9169343)
bones/122/rotation = Quaternion(0.39902124, -0.00040701905, -0.0010537711, 0.91694105)
bones/124/rotation = Quaternion(0.39904708, 5.865298e-05, -1.2916884e-05, 0.91693044)
bones/125/rotation = Quaternion(0.39905107, -0.0004669185, -0.00096177694, 0.9169281)
bones/127/rotation = Quaternion(0.3990547, -0.00047020894, -0.00070517417, 0.9169268)
bones/128/rotation = Quaternion(0.39900813, 0.0004493574, 0.00046698106, 0.9169472)
bones/130/rotation = Quaternion(0.39904776, 0.00016949391, -7.334314e-05, 0.9169302)
bones/131/rotation = Quaternion(0.39905018, -4.847719e-05, 2.3684624e-05, 0.9169291)
bones/132/scale = Vector3(1, 0.73868084, 1.0000002)
bones/134/rotation = Quaternion(0.39903533, 0.00070101785, 0.0013476104, 0.9169343)
bones/135/rotation = Quaternion(0.39902124, -0.00040701905, -0.0010537711, 0.91694105)
bones/136/scale = Vector3(1, 0.7386808, 1)
bones/138/rotation = Quaternion(0.3990547, -0.00047020894, -0.00070517417, 0.9169268)
bones/139/rotation = Quaternion(0.39900813, 0.0004493574, 0.00046698106, 0.9169472)
bones/140/scale = Vector3(1, 0.73868084, 1.0000001)
bones/142/rotation = Quaternion(0.39904708, 5.865298e-05, -1.2916884e-05, 0.91693044)
bones/143/rotation = Quaternion(0.39905107, -0.0004669185, -0.00096177694, 0.9169281)
bones/144/scale = Vector3(0.99999994, 0.73868084, 1.0000001)
bones/153/rotation = Quaternion(0.39904803, 0.00016921127, -7.35853e-05, 0.91693014)
bones/155/rotation = Quaternion(0.39901724, -5.1672905e-05, 2.2382117e-05, 0.91694343)
bones/163/rotation = Quaternion(0.39900154, 0.00069847127, 0.00134657, 0.91694903)
bones/165/rotation = Quaternion(0.3990588, -0.00040818274, -0.0010542166, 0.9169246)
bones/173/rotation = Quaternion(0.3990178, -0.00046989025, -0.0007050897, 0.9169428)
bones/175/rotation = Quaternion(0.39900514, 0.00045202667, 0.00046800988, 0.9169485)
bones/183/rotation = Quaternion(0.3989364, 5.957938e-05, -1.26518735e-05, 0.9169787)
bones/185/rotation = Quaternion(0.39904982, -0.00046554755, -0.00096113374, 0.91692865)
bones/203/rotation = Quaternion(1.07856984e-07, -0.06835789, 8.628711e-08, 0.99766093)
bones/206/rotation = Quaternion(7.04806e-08, -0.042102706, -2.1864817e-07, 0.9991133)
bones/209/scale = Vector3(0.976933, 0.9769326, 0.97693276)
bones/210/scale = Vector3(0.97694176, 0.9769419, 0.9769418)
bones/215/rotation = Quaternion(-0.19569649, -0.64080065, 0.7364553, -0.093332596)
bones/216/rotation = Quaternion(-0.1051705, 0.0019236803, -0.01913852, 0.99426824)
bones/217/rotation = Quaternion(0.21418004, 5.8761663e-05, -1.2769428e-05, 0.9767943)
bones/218/rotation = Quaternion(-0.24822854, 0.6728983, -0.51081353, 0.47398335)
bones/218/scale = Vector3(0.97693247, 0.976933, 0.97693294)
bones/220/rotation = Quaternion(-0.24823055, 0.67289895, -0.5108108, 0.47398424)
bones/220/scale = Vector3(0.9875184, 0.9561003, 0.98751885)
bones/221/rotation = Quaternion(-8.653584e-08, 0.04114351, 2.1726962e-07, 0.99915326)
bones/222/rotation = Quaternion(0.21406494, 0.040947653, -0.008771704, 0.9759214)
bones/223/rotation = Quaternion(-2.7103262e-09, -0.06835687, 3.061096e-08, 0.997661)
bones/224/rotation = Quaternion(0.02721797, -0.068353295, -0.007352872, 0.9972627)
bones/226/rotation = Quaternion(-0.2105597, -0.71271396, 0.5274785, 0.41166732)
bones/226/scale = Vector3(0.95517796, 0.95517766, 0.95517826)
bones/227/rotation = Quaternion(0.22870812, 1.4244115e-05, -3.4791742e-06, 0.97349507)
bones/228/rotation = Quaternion(0.019856537, 0.1351717, -0.00073089986, 0.99062294)
bones/228/scale = Vector3(1.0237453, 1.0237464, 1.0237454)
bones/230/rotation = Quaternion(0.38032955, -7.3188305e-05, 2.9735207e-05, 0.92485106)
bones/231/rotation = Quaternion(0.38030094, -4.9057697e-05, 1.7755812e-05, 0.92486286)
bones/236/rotation = Quaternion(0.38031763, -0.00067348883, -0.0013616461, 0.9248547)
bones/237/rotation = Quaternion(0.38033956, 0.00038551108, 0.00106268, 0.92484623)
bones/239/rotation = Quaternion(0.3803289, -7.874724e-06, -9.264263e-06, 0.9248514)
bones/240/rotation = Quaternion(0.3803331, 0.00039610537, 0.0009919516, 0.924849)
bones/242/rotation = Quaternion(0.38033703, 0.00033473608, 0.000764422, 0.92484766)
bones/243/rotation = Quaternion(0.38029394, -0.00018365578, -0.00058112247, 0.9248655)
bones/245/rotation = Quaternion(0.38032955, -7.3188305e-05, 2.9735207e-05, 0.92485106)
bones/246/rotation = Quaternion(0.38030094, -4.9057697e-05, 1.7755812e-05, 0.92486286)
bones/247/scale = Vector3(1, 0.7516202, 1.0000001)
bones/249/rotation = Quaternion(0.38031763, -0.00067348883, -0.0013616461, 0.9248547)
bones/250/rotation = Quaternion(0.38033956, 0.00038551108, 0.00106268, 0.92484623)
bones/251/scale = Vector3(1, 0.7516202, 0.99999994)
bones/253/rotation = Quaternion(0.38033703, 0.00033473608, 0.000764422, 0.92484766)
bones/254/rotation = Quaternion(0.38029394, -0.00018365578, -0.00058112247, 0.9248655)
bones/255/scale = Vector3(0.9999999, 0.7516203, 1.0000001)
bones/257/rotation = Quaternion(0.3803289, -7.874724e-06, -9.264263e-06, 0.9248514)
bones/258/rotation = Quaternion(0.3803331, 0.00039610537, 0.0009919516, 0.924849)
bones/259/scale = Vector3(0.9999999, 0.7516201, 1)
bones/268/rotation = Quaternion(0.3802325, -7.289558e-05, 2.9923707e-05, 0.924891)
bones/270/rotation = Quaternion(0.3802384, -4.613378e-05, 1.9071409e-05, 0.9248885)
bones/278/rotation = Quaternion(0.38031998, -0.0006710155, -0.0013604809, 0.9248537)
bones/280/rotation = Quaternion(0.38034013, 0.00038574162, 0.0010627519, 0.92484605)
bones/288/rotation = Quaternion(0.3803364, 0.00033430918, 0.0007643167, 0.9248479)
bones/290/rotation = Quaternion(0.38029107, -0.00018659947, -0.0005822885, 0.9248667)
bones/298/rotation = Quaternion(0.38032785, -8.780758e-06, -9.538509e-06, 0.9248518)
bones/300/rotation = Quaternion(0.38033164, 0.00039475938, 0.000991429, 0.9248495)
bones/316/scale = Vector3(1.0237454, 1.0237463, 1.0237457)
bones/318/rotation = Quaternion(6.64318e-08, 0.06774848, 7.394819e-08, 0.9977024)
bones/318/scale = Vector3(1.0237452, 1.023746, 1.0237452)
bones/320/scale = Vector3(1.02276, 1.0227606, 1.02276)
bones/321/rotation = Quaternion(7.725375e-08, 0.045005918, 3.2863318e-07, 0.9989867)
bones/321/scale = Vector3(1.0227599, 1.0227604, 1.0227598)
bones/324/scale = Vector3(0.976961, 0.9769606, 0.9769608)
bones/325/scale = Vector3(0.9769606, 0.9769609, 0.9769607)
bones/330/rotation = Quaternion(0.19260456, -0.64110214, 0.73750573, 0.089314245)
bones/331/rotation = Quaternion(-0.11249872, -0.0020626755, 0.01922565, 0.9934638)
bones/331/scale = Vector3(0.97774607, 0.97774565, 0.97774595)
bones/332/rotation = Quaternion(0.22872527, 1.42378185e-05, -3.4844786e-06, 0.973491)
bones/333/rotation = Quaternion(-0.2565119, -0.6733764, 0.50673604, 0.47327003)
bones/333/scale = Vector3(0.97696066, 0.9769607, 0.9769608)
bones/335/rotation = Quaternion(-0.25651965, -0.67337877, 0.50672644, 0.47327268)
bones/335/scale = Vector3(0.988021, 0.95520985, 0.9880212)
bones/336/rotation = Quaternion(2.1242563e-08, -0.042865142, -2.0592037e-08, 0.9990809)
bones/337/rotation = Quaternion(0.2285649, -0.043647036, 0.010019304, 0.9724982)
bones/337/scale = Vector3(1.0004721, 0.99258125, 1.0073637)
bones/338/rotation = Quaternion(-9.467178e-09, 0.06774741, 1.1645447e-07, 0.9977025)
bones/339/rotation = Quaternion(0.01985275, 0.06774515, 0.00065672403, 0.99750495)
bones/339/scale = Vector3(0.98841363, 1.0235292, 0.98846996)
bones/344/position = Vector3(-0.33162814, -0.01378516, -0.531867)
bones/346/position = Vector3(0.527098, 1.6421009, -0.48741952)
bones/346/scale = Vector3(1.0235906, 1.0235902, 1.0235902)
bones/349/position = Vector3(0.33748034, -0.013793832, -0.5318745)
bones/351/position = Vector3(-0.44125485, 1.642101, -0.48741952)
bones/351/scale = Vector3(1.0235904, 1.0235901, 1.0235902)
bones/365/position = Vector3(0.2564971, 0.4556409, 0.85158026)
bones/365/scale = Vector3(1.0165657, 1.0165657, 1.0165657)
bones/379/position = Vector3(-0.170654, 0.4556409, 0.85158026)
bones/379/scale = Vector3(1.0165657, 1.0165657, 1.0165657)

[node name="Weapons equipped" type="Node" parent="."]

[node name="Avelyn" type="Node" parent="Weapons equipped"]
script = ExtResource("3_obb3y")
w_name = "Avelyn"
att_list = Array[String](["Dash Strike", "First Strike", "Second Strike", "Third Strike"])
att_dur = Array[float]([0.1, 1.0, 0.833, 1.133])
metadata/_custom_type_script = "uid://d1473p514iqas"

[node name="Fists" type="Node" parent="Weapons equipped"]
script = ExtResource("3_obb3y")
w_name = "Fist"
att_list = Array[String](["", "First Strike", "Second Strike", "Third Strike"])
att_dur = Array[float]([0.0, 0.333, 0.567, 1.333])
metadata/_custom_type_script = "uid://d1473p514iqas"

[node name="capeattachement" type="BoneAttachment3D" parent="."]
transform = Transform3D(1.0235999, -8.665215e-18, -6.153416e-17, 6.162314e-17, 0.2721635, 0.9867542, 8.00793e-18, -0.9867542, 0.2721635, 0.04292155, 1.2038549, 0.005257398)
bone_name = "chest"
bone_idx = 14
use_external_skeleton = true
external_skeleton = NodePath("../Mendri Mesh/rig/Skeleton3D")

[node name="SoftBody3D" type="SoftBody3D" parent="capeattachement"]
transform = Transform3D(0.9772314, -5.3952897e-19, -3.1963367e-18, -3.2210463e-18, -0.053375572, -0.97577316, 3.641642e-19, 0.9757729, -0.053375483, -0.06797414, 0.15776372, -1.2440522)
layers = 17
mesh = ExtResource("4_iot2n")
parent_collision_ignore = NodePath("../..")
total_mass = 10.01
pressure_coefficient = 0.03
damping_coefficient = 0.36
drag_coefficient = 0.45
pinned_points = [21, 14, 17, 19, 15]
attachments/0/point_index = 21
attachments/0/spatial_attachment_path = NodePath("..")
attachments/0/offset = Vector3(-0.06797414, 0.15776375, -1.2440522)
attachments/1/point_index = 14
attachments/1/spatial_attachment_path = NodePath("..")
attachments/1/offset = Vector3(-0.06797414, 0.15776375, -1.2440522)
attachments/2/point_index = 17
attachments/2/spatial_attachment_path = NodePath("..")
attachments/2/offset = Vector3(-0.06797414, 0.15776375, -1.2440522)
attachments/3/point_index = 19
attachments/3/spatial_attachment_path = NodePath("..")
attachments/3/offset = Vector3(-0.06797414, 0.15776375, -1.2440522)
attachments/4/point_index = 15
attachments/4/spatial_attachment_path = NodePath("")
attachments/4/offset = Vector3(0, 0, 0)

[editable path="Mendri Mesh"]
